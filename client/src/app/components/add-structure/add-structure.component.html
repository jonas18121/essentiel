<div class="container py-3">
  <h1 class="mt-2">Formulaire stucture</h1>
  <form class="mb-3" [formGroup]="structureForm" (ngSubmit)="onSubmit()">


    <h2>Informations</h2>

    <div class="form-group">
      <input type="text" class="form-control" id="name" formControlName="name" placeholder="Nom de la structure">
    </div>

    <select id="type" class="form-select" formControlName="type" aria-label="Sélectionner un type">
      <option selected>Sélectionner un type</option>
      <option value="type1">Type 1</option>
      <option value="type2">Type 2</option>
      <option value="type3">Type 3</option>
    </select>

    <hr>
    <h2>Adresse</h2>
    <div class="form-group">
      <input type="text" class="form-control" (keyup)="getAddress($event)" formControlName="address" list="dynmicAddress" id="address" name="address" placeholder="Entrer une adresse ..." />
      <datalist id="dynmicAddress">
        <option *ngFor="let item of addressList" [value]="item.properties.label">{{item.properties.label}}</option>
      </datalist>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <input type="text" class="form-control" id="street" formControlName="street" placeholder="Rue" disabled>
      </div>
      <div class="form-group col-md-4">
        <input type="text" class="form-control" id="city" formControlName="city" placeholder="Ville" disabled>
      </div>
      <div class="form-group col-md-2">
        <input type="text" class="form-control" id="zip" formControlName="zip" placeholder="Code Postal" pattern="[0-9]{5}" disabled>
      </div>
    </div>

    <hr>
    <h2>Description</h2>

    <div class="form-group">
      <textarea class="form-control" id="description" formControlName="description" rows="3">Description en cours de rédaction...</textarea>
    </div>

    <hr>
    <h2>Responsable</h2>

    <div class="row">
      <div class="col">
        <input type="text" class="form-control" id="contactName" formControlName="contactName" placeholder="Nom du contact">
      </div>
      <div class="col">
        <input type="text" class="form-control" id="contactFunction" formControlName="contactFunction" placeholder="Fonction du contact">
      </div>
    </div>

    <hr>
    <h2>Contacts</h2>

    <div class="form-group">
      <label for="phone">Téléphone</label>
      <input type="tel" class="form-control" id="phone" formControlName="phone" placeholder="000000000" pattern="[0-9]{2}[0-9]{2}[0-9]{2}[0-9]{2}[0-9]{2}">
    </div>

    <div class="form-group">
      <label for="email">Adresse mail</label>
      <input type="email" class="form-control" id="email" formControlName="email" placeholder="name@example.com">
    </div>

    <hr>
    <h2>Agrément / label</h2>

    <div class="form-group">
      <input type="text" class="form-control" id="label" formControlName="label" placeholder="Agrément / label de la structure">
    </div>

    <input type="text" id="lon" formControlName="lon" hidden>
    <input type="text" id="lat" formControlName="lat" hidden>

    <button type="submit" class="btn btn-primary" [disabled]="!structureForm.valid">Ajouter</button>

  </form>
</div>
